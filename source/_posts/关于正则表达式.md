---
title: 关于正则表达式
date: 2019-12-25 19:58:18
tags:
  - JavaScript
  - 正则表达式
---

### JavaScript中的正则表达式

1. RegExp.exex/test
2. String.match/matchAll/replace/search/split



### 创建一个正则表达式

```javascript
// 字面量：脚本加载后编译，更好的性能
const reg = /ab+c/;
// 构造函数：运行时编译，动态构造表达式，更加灵活
const reg = new RegExp('ab+c');
```



### 正则表达式特殊字符含义

##### 字符类别

| 字符  | 含义                                                         |
| ----- | ------------------------------------------------------------ |
| .     | 匹配任意单个字符，但是行结束符除外：`\n` `\r` `\u2028` 或 `\u2029`。 |
| \d    | [0-9]                                                        |
| \D    | [^0-9]                                                       |
| \w    | [A-Za-z0-9_]                                                 |
| \W    | [^A-Za-z0-9]                                                 |
| \s    | 匹配一个空白符，包括空格、制表符、换页符、换行符和其他 Unicode 空格 |
| \S    | 匹配一个非空白符（注意和"."的区别）                          |
| \t    | 水平制表符Tab                                                |
| \r    | 回车符                                                       |
| \n    | 换行符                                                       |
| \v    | 垂直制表符                                                   |
| \f    | 换页符                                                       |
| [\b]  | 退格符                                                       |
| \0    | NUL字符                                                      |
| \cX   | `X` 是 A - Z 的一个字母。匹配字符串中的一个控制字符。        |
| \xhh  | 匹配编码为 `hh` （两个十六进制数字）的字符。                 |
| \uhhh | 匹配 Unicode 值为 `hhhh` （四个十六进制数字）的字符。        |
| \\    | 转义字符                                                     |

##### 字符集合

| 字符   | 含义                                                        |
| ------ | ----------------------------------------------------------- |
| [xyz]  | 匹配集合中的任意一个字符。你可以使用连字符'-'指定一个范围。 |
| [^xyz] | 任意不在括号内的字符                                        |

##### 边界

| 字符 | 含                                                   |
| ---- | ---------------------------------------------------- |
| ^    | 匹配输入开始。                                       |
| `$`  | 匹配输入结尾。                                       |
| \b   | 匹配一个零宽单词边界，如一个字母与一个空格之间。     |
| \B   | 匹配一个零宽非单词边界，如两个字母之间或两个空格之间 |

##### 分组与反向引用

| 字符  | 含义                                                         |
| ----- | ------------------------------------------------------------ |
| (x)   | 匹配 `x` 并且捕获匹配项。 这被称为捕获括号（capturing parentheses）。 |
| \n    | `n` 是一个正整数。一个反向引用（back reference），指向正则表达式中第 n 个括号（从左开始数）中匹配的子字符串。 |
| (?:x) | 匹配 `x` 不会捕获匹配项。                                    |

##### 数量词

| 字符         | 含义                                                         |
| ------------ | ------------------------------------------------------------ |
| x*           | 匹配前面的模式x0次或多次                                     |
| x+           | 匹配前面的模式x1次或多次                                     |
| x*?<br />x+? | 像上面的 * 和 + 一样匹配前面的模式 *x*，然而匹配是最小可能匹配 |
| x?           | 匹配前面的模式x0或1次                                        |
| x\|y         | 匹配x或y                                                     |
| x{n}         | 前面的模式 *x* 连续出现 n 次时匹配                           |
| x{n,}        | 前面的模式 *x* 连续出现至少 n 次时匹配                       |
| x{n, m}      | 前面的模式 x 连续出现至少 n 次，至多 m 次时匹配              |

##### 断言

| 字符     | 含义                 |
| -------- | -------------------- |
| x(?=y)   | 仅匹配被y跟随的x     |
| x(?!y)   | 仅匹配不被y跟随的x   |
| (?<=y)x  | x只有在y后面才匹配   |
| (?<=!y)x | x只有不在y后面才匹配 |



### 引用

MDN: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp#character-classes
RegexGolf: https://alf.nu/RegexGolf#accesstoken=YizTpRHBDopcV+NlVPe8
common-regex: https://github.com/cdoco/common-regex

### 总结

任重而道远，每周安排任务慢慢练习吧。