---
title: 重新认识Babel
date: 2019-12-13 06:44:10
tags:
  - 前端
  - Babel
  - JavaScript
---

### 一、背景
ES标准每年都会更新，但是用户使用的浏览器或者其他目标环境（如node），并不会及时作出响应或更新，然而每个新版本的新特性对于每个开发者而言，都有不少的诱惑，因为新特性一般都是为了解决旧版本的一些特定问题或者提升开发者的开发效率而被加入标准的。鉴于这种开发环境和实际应用环境不匹配的情况，有些会使用Polyfill一些库，有些则需要Hack代码，Babel正是为帮你做这些事情而产生的。

### 二、 什么是Babel？

> Babel是一个可以将ECMAScript 2015+ 代码转化为低版本浏览器能支持的ES版本的工具链，或者将一些非ES标准的JS超集（如TS）转换为目标环境可识别的ES代码。

主要做以下这些事：
1. 语法转换
2. Polyfill目标环境没有的一些功能
3. 代码转换
4. 其他（如JS扩展、jsx、或自定义插件）


### 三、如何使用

1. 使用cli
2. 使用API
3. Nodejs环境中可以使用@babel/register或babel-node：原理是在require hook，在require加载之前将先使用babel进行编译

### 四、Babel是如何做到的？

![Babel 组成](/images/2019-12-14_06-11-12.png)

### 五、扩展

Babel是基于插件的，所以并不一定要将Babel定义在ES规范的局限之下（当然产出肯定是ES标准没错了），只要你愿意，可以使用任意奇葩的插件，甚至自定义插件，用来转换你自定义的奇奇怪怪的代码。总之就是，每个插件可以将你相应类型或有相应格式的文本转化输出为你期望得到的目标代码。